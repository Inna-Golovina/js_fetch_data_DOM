{"version":3,"sources":["scripts/main.js"],"names":["BASE_URL","request","url","fetch","then","response","ok","setTimeout","Promise","reject","Error","status","statusText","json","result","getPhones","getPhonesDetails","phoneId","showPhoneNames","phones","newBlock","document","createElement","id","style","top","right","position","phoneList","append","forEach","phone","phoneName","textContent","name","body","prepend","phonesWithDetails","getPhonesWithDetails","all","map","details","console","log","catch","error","warn"],"mappings":";AAGA,aAmEA,SAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,KAAA,GAAA,GAAA,OAAA,sBAAA,CAAA,IAAA,EAAA,OAAA,sBAAA,GAAA,IAAA,EAAA,EAAA,OAAA,SAAA,GAAA,OAAA,OAAA,yBAAA,EAAA,GAAA,cAAA,EAAA,KAAA,MAAA,EAAA,GAAA,OAAA,EAAA,SAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,UAAA,OAAA,IAAA,CAAA,IAAA,EAAA,MAAA,UAAA,GAAA,UAAA,GAAA,GAAA,EAAA,EAAA,EAAA,OAAA,IAAA,GAAA,QAAA,SAAA,GAAA,EAAA,EAAA,EAAA,EAAA,MAAA,OAAA,0BAAA,OAAA,iBAAA,EAAA,OAAA,0BAAA,IAAA,EAAA,OAAA,IAAA,QAAA,SAAA,GAAA,OAAA,eAAA,EAAA,EAAA,OAAA,yBAAA,EAAA,MAAA,OAAA,EAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,KAAA,EAAA,OAAA,eAAA,EAAA,EAAA,CAAA,MAAA,EAAA,YAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,GAAA,EAAA,EAjEA,IAAMA,EAAW,4DAEXC,EAAU,SAACC,GACRC,OAAAA,MAASH,GAAAA,OAAAA,GAAWE,OAAAA,IACxBE,KAAK,SAAAC,GASGA,OARFA,EAASC,IACZC,WAAW,WACTC,QAAQC,OAAO,IAAIC,MACdL,GAAAA,OAAAA,EAASM,OAAYN,OAAAA,OAAAA,EAASO,eAElC,KAGEP,EAASQ,SAEjBT,KAAK,SAAAU,GAAUA,OAAAA,KAGdC,EAAY,WAAMd,OAAAA,EAAQ,iBAC1Be,EAAmB,SAACC,GAAYhB,OAAAA,EAAmBgB,WAAAA,OAAAA,EAAhC,WAEzB,SAASC,EAAeC,GAChBC,IAAAA,EAAWC,SAASC,cAAc,OAExCF,EAASG,GAAK,cACdH,EAASI,MAAMC,IAAM,OACrBL,EAASI,MAAME,MAAQ,OACvBN,EAASI,MAAMG,SAAW,WAEpBC,IAAAA,EAAYP,SAASC,cAAc,MAEzCF,EAASS,OAAOD,GAEhBT,EAAOW,QAAQ,SAAAC,GACPC,IAAAA,EAAYX,SAASC,cAAc,MAEzCU,EAAUC,YAAcF,EAAMG,KAC9BN,EAAUC,OAAOG,KAEnBX,SAASc,KAAKC,QAAQhB,GAGxB,IAAIiB,EAAoB,GAClBC,EAAuB,WACpBvB,OAAAA,IACJX,KAAK,SAAAU,GAAUN,OAAAA,QAAQ+B,IACtBzB,EAAO0B,IAAI,SAAAT,GAASf,OAAAA,EAAiBe,EAAMR,IACxCnB,KAAK,SAAAqC,GAAWJ,OAAAA,EACZN,EAAAA,EAAAA,GAAAA,GAAUU,WAMvB1B,IACGX,KAAK,SAAAU,GACJ4B,QAAQC,IAAc7B,SAAAA,GACtBI,EAAeJ,KAEhB8B,MAAM,SAAAC,GAASH,OAAAA,QAAQI,KAAsBD,gBAAAA,KAEhD7B,EAAiB,iBACdZ,KAAK,SAAAU,GAAU4B,OAAAA,QAAQC,IAAsB7B,iBAAAA,KAC7C8B,MAAM,SAAAC,GAASH,OAAAA,QAAQI,KAA8BD,wBAAAA,KAExDP,IACGlC,KAAK,SAAAU,GAAU4B,OAAAA,QAAQC,IAA4B7B,uBAAAA,KACnD8B,MAAM,SAAAC,GAASH,OAAAA,QAAQI,KAAmCD,6BAAAA","file":"main.2505f5a8.js","sourceRoot":"..\\src","sourcesContent":["/* eslint-disable no-unused-vars */\n/* eslint-disable no-return-assign */\n/* eslint-disable no-console */\n'use strict';\n\nconst BASE_URL = 'https://mate-academy.github.io/phone-catalogue-static/api';\n\nconst request = (url) => {\n  return fetch(`${BASE_URL}${url}`)\n    .then(response => {\n      if (!response.ok) {\n        setTimeout(() => {\n          Promise.reject(new Error(\n            `${response.status} - ${response.statusText}`)\n          );\n        }, 5000);\n      }\n\n      return response.json();\n    })\n    .then(result => result);\n};\n\nconst getPhones = () => request('/phones.json');\nconst getPhonesDetails = (phoneId) => request(`/phones/${phoneId}.json`);\n\nfunction showPhoneNames(phones) {\n  const newBlock = document.createElement('div');\n\n  newBlock.id = 'information';\n  newBlock.style.top = '50px';\n  newBlock.style.right = '50px';\n  newBlock.style.position = 'absolute';\n\n  const phoneList = document.createElement('ol');\n\n  newBlock.append(phoneList);\n\n  phones.forEach(phone => {\n    const phoneName = document.createElement('li');\n\n    phoneName.textContent = phone.name;\n    phoneList.append(phoneName);\n  });\n  document.body.prepend(newBlock);\n}\n\nlet phonesWithDetails = {};\nconst getPhonesWithDetails = () => {\n  return getPhones()\n    .then(result => Promise.all(\n      result.map(phone => getPhonesDetails(phone.id)\n        .then(details => phonesWithDetails = {\n          ...phone, ...details,\n        })\n      )\n    ));\n};\n\ngetPhones()\n  .then(result => {\n    console.log(`Phones`, result);\n    showPhoneNames(result);\n  })\n  .catch(error => console.warn(`Phones error:`, error));\n\ngetPhonesDetails('dell-streak-7')\n  .then(result => console.log(`Phones details`, result))\n  .catch(error => console.warn(`Phones details error:`, error));\n\ngetPhonesWithDetails()\n  .then(result => console.log(`Phones with details:`, result))\n  .catch(error => console.warn(`Phones with details error:`, error));\n"]}